#!/usr/bin/env node

// Simple wrapper to run the CLI
const path = require('path');
const { spawn } = require('child_process');

// Check if we have a built version
const distPath = path.join(__dirname, '..', 'dist', 'cli.js');
const srcPath = path.join(__dirname, '..', 'src', 'cli.ts');

const fs = require('fs');

if (fs.existsSync(distPath)) {
  // Use built version
  require(distPath);
} else {
  // Use ts-node for development
  const tsNode = spawn('npx', ['ts-node', srcPath], {
    stdio: 'inherit',
    cwd: path.join(__dirname, '..')
  });
  
  tsNode.on('exit', (code) => {
    process.exit(code);
  });
}