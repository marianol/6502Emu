// Main emulator class that coordinates all components